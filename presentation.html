<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="generator" content="AsciiDoc 8.6.10, html5 backend 4.5.0">
    <title>42ITy presentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- AsciiDoc Bootstrap styles -->
    <link rel="stylesheet" type="text/css" id="bootstrapTheme" href="css/asciidoc-bootstrap.min.css">

    <!--[if (lt IE 9) & (!IEMobile)]>
        <script src="js/html5shiv.min.js"></script>
        <script src="js/respond.min.js"></script>
    <![endif]-->
    <!-- 42ITy stylesheet -->
    <link rel="stylesheet" type="text/css" href="css/42ity.css">

    <!-- favorite icon -->
    <link rel="shortcut icon" href="images/icons//favicon.ico">
  </head>
  <body id="toc-top">
    <div id="page">
  <header role="banner" class="Fixed">

    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">

    <div class="container">

        <div class="navbar-header">
          <a class="navbar-brand" href="./">42ITy</a>
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div> <!-- /.navbar-header -->

        <div class="navbar-collapse collapse">
            <!-- Fixed navbar -->
            <ul class="nav navbar-nav">
                <li><a href="index.html">Home</a></li>
            </ul>
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Download<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="source.html">Source code</a></li>
                        <li><a href="binaries.html">Binaries</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Documentation<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="hcl.html">Supported Hardware</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="presentation.html">Overall presentation</a></li>
                        <li><a href="contributing.html">Contributor guide</a></li>
                    </ul>
                </li>
            </ul>
            <ul class="nav navbar-nav">
                <li><a href="about.html">About</a></li>
            </ul>
            <ul class="nav navbar-nav">
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div> <!-- /.navbar-collapse -->

    </div>  <!-- /.container -->
    </nav>
  </header>


  <div id="content" class="container">

    <div class="row">




        <div class="col-md-9" role="main">
<div class="section">
    <h1 class="page-header" id="general_overview">General overview</h1>
<div class="paragraph"><p>The 42ITy&#8482; project promotes the global development, distribution and
adoption of the 42ITy&#8482; platform as a next generation Data Center Service
Optimization enablement platform.</p></div>
<div class="paragraph"><p>The goal is to serve developers, users and the entire data center ecosystem
by providing a set of shared resources to grow the adoption of 42ITy&#8482; as
the only open source, next generation Data Center Service Optimization
enablement platform.</p></div>
<div class="paragraph"><p>The initial 42ITy&#8482; platform is a result of more than 3 years of R&amp;D effort
by Eaton Corporation provided to the community.  While Eaton continues to
be a key contributor to 42ITy&#8482;, the community is already growing.  Please
read the 
<a href="contributing.html">Contributor guide</a> to find out how you can
contribute.</p></div>
<div class="paragraph"><p>The 42ITy&#8482; platform allows to connect together various software components to:</p></div>
<div class="ulist"><ul>
<li>
<p>
gather and store monitoring data from devices,
</p>
</li>
<li>
<p>
process these data to produce trends and metrics,
</p>
</li>
<li>
<p>
provide interaction to users, through a web user interface,
</p>
</li>
<li>
<p>
provide interaction to developers and 3rd party software, through a REST API.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Typical integrations, which serves as reference implementations, are Eaton
Intelligent Power Manager 2 and

<a href="http://www.eaton.eu/ipminfrastructure">Eaton Intelligent Power Controller</a>:</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/Eaton-IPC.png" alt="Eaton Intelligent Power Controller">
</span></p></div>
<h2 id="current_features_and_capabilities">Current features and capabilities</h2>
<div class="ulist"><ul>
<li>
<p>
Power device monitoring &amp; metrics (rack PDUs, UPSs, ATSs,…)
</p>
</li>
<li>
<p>
Environmental monitoring &amp; metrics (temp., humidity, dew point,…)
</p>
</li>
<li>
<p>
Historic &amp; real time data
</p>
</li>
<li>
<p>
Composite &amp; Datacenter or IT room level metrics
</p>
</li>
<li>
<p>
Open (REST API) communication interface
</p>
</li>
<li>
<p>
Micro-services &amp; plug-in architecture
</p>
</li>
<li>
<p>
Simplified asset management
</p>
</li>
</ul></div>
<h2 id="future_availability">Future availability</h2>
<div class="ulist"><ul>
<li>
<p>
Builds (images &amp; packages) provided for both ARM and x86 platforms
</p>
</li>
<li>
<p>
Easy &amp; Intuitive standards based UI (AngularJS, Bootstrap)
</p>
</li>
</ul></div>
<h2 id="future_features_and_capabilities">Future features and capabilities</h2>
<div class="ulist"><ul>
<li>
<p>
Scale solution to large data center &amp; distributed enterprise monitoring
</p>
<div class="ulist"><ul>
<li>
<p>
100s to 1000s of racks
</p>
</li>
</ul></div>
</li>
<li>
<p>
Expanded 3rd party monitoring ecosystem
</p>
<div class="ulist"><ul>
<li>
<p>
More 3rd party power device support
</p>
</li>
<li>
<p>
Genset monitoring
</p>
</li>
<li>
<p>
CRAC monitoring
</p>
</li>
<li>
<p>
3rd party sensors
</p>
</li>
</ul></div>
</li>
<li>
<p>
More depending on the 42ITy&#8482; Community and partners feedback and requests.
</p>
</li>
</ul></div>
</div>
<div class="section">
    <h1 class="page-header" id="technical_overview">Technical overview</h1>
<h2 id="architecture">Architecture</h2>
<div class="paragraph"><p>The 42ITy&#8482; software platform is a Service Oriented Architecture (SOA), made of a
collection of software packages. These package provide agents (micro services) which
communicate through a MOM (Message-oriented middleware), built around the

<a href="http://zeromq.org">ZeroMQ</a> technology stack.</p></div>
<div class="paragraph"><p>The software is divided in a set of independent components, called <strong>agent</strong>.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/42ITy-SW-arch.png" alt="42ITy SW architecture">
</span></p></div>
<div class="paragraph"><p>Because we expect an arbitrary number of agents to be connected together,
42ITy&#8482; uses a central message broker called Malamute.</p></div>
<div class="paragraph"><p>Malamute is built using the same ZeroMQ stack, so integrates with the code
easily. The purpose of malamute is to abstract from maintaining peer-to-peer
connections and to allow easy 1:N communication patterns without need to change
the agent side.</p></div>
<div class="paragraph"><p>At the moment there are three main patterns supported by Malamute broker:</p></div>
<div class="ulist"><ul>
<li>
<p>
PUB / SUB, Publish and Subscribe:
there are agents publishing messages with some topic, where others can subscribe
to them. Broker then ensures all messages are delivered to the right destination.
Communication is asynchronous - each PUB call is queued immediately and sending
does not block the code.
</p>
</li>
<li>
<p>
REQ / REP, Request and Reply:
this is a directed 1:1 communication, usable for requesting some information
from known place (persistence layer). It is synchronous, so blocking calling
code until there is a result (or timeout).
</p>
</li>
<li>
<p>
Service:
service is a dedicated agent, which can run in more instances spawned by broker
on demand. This is suitable for long running tasks. This is not used in
42ITy&#8482; currently.
</p>
</li>
</ul></div>
<h2 id="mq_protocol_overview">MQ protocol overview</h2>
<div class="paragraph"><p>42ITy&#8482; protocol consists of several layers:</p></div>
<div class="ulist"><ul>
<li>
<p>
Internet layer - raw libzmq/czmq sockets: this ensures messages are
serialized, deserialized, working with sockets and abstracts the underlying OS
layers (unix sockets, tcp sockets, &#8230;).
</p>
</li>
<li>
<p>
Transport layer - Malamute: this does ensures correct addressing, matching
subscribers with published messages and services.
</p>
</li>
<li>
<p>
Application layer - fty-proto: this provides a minimal set of messages to
encode and decode the main types of data flowing in the system.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Refer to the project

<a href="https://en.wikipedia.org/wiki/Actor_model">fty-proto</a> for more information.</p></div>
<h2 id="dataflow_overview">Dataflow overview</h2>
<div class="paragraph"><p>This chapter will be completed later.</p></div>
<h2 id="agent_overview">Agent overview</h2>
<div class="paragraph"><p>Agents communicate through buses maintained by ZeroMQ library. Buses can use
several backend technologies, most notably unix and classic TCP/IP sockets. So
agents can be placed on the same machine or on arbitrary number of other
machines (currently out of scope). Because basic messaging using zeromq messages
(zmsg) is error prone with a lot of code duplication, 42ITy&#8482; project uses
serialization library called zproto. It defines a model of message in
declarative XML language and code is generated using a template language called
gsl.</p></div>
<div class="paragraph"><p>Generated code does provide nice C API for manipulating with messages as well as
a way how to encode/decode it to/from zmsg. Thus such generated representations
can be easily sent through zeromq channels.</p></div>
<h3 id="actor_model">Actor model</h3>
<div class="paragraph"><p>Agents are built on top of the

<a href="https://en.wikipedia.org/wiki/Actor_model">actor model</a>.
That means that each agent maintains its own state internally and communicate
with the rest of the system by sending messages. The communication is
asynchronous and agents are single threaded with the main loop. For cases where
the single main loop is not enough due to performance reasons, agent can
distribute workload to others using SERVICE pattern. However this is not used in
current version of 42ITy&#8482;.</p></div>
<h3 id="how_to_create_a_new_agent">How to create a new agent</h3>
<div class="paragraph"><p>There are various ways to create a new 42ITy agent:</p></div>
<div class="ulist"><ul>
<li>
<p>
create from scratch:
This is the hardest way, creating a zproject project.xml file. There are

<a href="https://github.com/zeromq/zproject/blob/master/README.md">guides and tutorials</a>
which explains this, and are otherwise needed to further complete your agent.
</p>
</li>
<li>
<p>
fork one of the github example project, which provides instructions and
serves as a reference on how to create a new 42ITy&#8482;:
</p>
<div class="ulist"><ul>
<li>
<p>

<a href="https://github.com/42ity/fty-example">fty-example</a>
</p>
</li>
<li>
<p>

<a href="https://github.com/42ity/fty-template">fty-template</a>
</p>
</li>
</ul></div>
</li>
</ul></div>
<h2 id="rest_api_communication_interface">REST API communication interface</h2>
<div class="paragraph"><p>42ITy&#8482; also exposes its data through a REST API.</p></div>
<div class="paragraph"><p>Complete documentation using RAML is available:</p></div>
<div class="ulist"><ul>
<li>
<p>

<a href="doc/rest/42ity_rest_api.raml">RAML source format</a>
</p>
</li>
<li>
<p>

<a href="doc/rest/42ity_rest_api.html">RAML HTML format</a>
</p>
</li>
</ul></div>
<h3 id="how_to_create_a_new_rest_api_mountpoint">How to create a new REST API mountpoint</h3>
<div class="paragraph"><p>42ITy uses Tntnet webserver, which provides simple mechanisms to create new REST
servlets.</p></div>
<div class="paragraph"><p>There are 
<a href="http://www.tntnet.org/tntnet.html">tutorials</a>, but you may also
look at fty-rest and other fty-rest-* components as references.</p></div>
<div class="paragraph"><p>You may fork the 
<a href="https://github.com/42ity/fty-template-rest">fty-template-rest</a>
repository.</p></div>
</div>
<div class="section">
    <h1 class="page-header" id="42ity_8482_software_stack">42ITy&#8482; software stack</h1>
<h2 id="42ity_8482_external_projects">42ITy&#8482; external projects</h2>
<div class="paragraph"><p>42ITy&#8482; foundations rely on several major opensource projects, to provide some
generic core services, such as data storage, communication with devices,
communication between agents, web user interface and REST API, and build added
value on top of these.</p></div>
<h3 id="malamute">Malamute</h3>
<div class="paragraph"><p><a href="https://github.com/zeromq/malamute">Malamute</a> is the ZeroMQ Enterprise
Messaging Broker, providing all the enterprise messaging patterns in one box.</p></div>
<div class="paragraph"><p>42ITy&#8482; uses Malamute as the broker connecting the different 42ITy&#8482; agents (see
internal sub-projects).</p></div>
<h3 id="mariadb_mysql">MariaDB - MySQL</h3>
<div class="paragraph"><p><a href="https://mariadb.org">MariaDB</a> is one of the most popular database servers in
the world, made by the original developers of 
<a href="http://www.mysql.com">MySQL</a>
and guaranteed to stay open source.</p></div>
<div class="paragraph"><p>42ITy&#8482; uses MariaDB to store the realtime data, gathered from devices, and
processed metrics.</p></div>
<h3 id="nut_network_ups_tools">NUT - Network UPS Tools</h3>
<div class="paragraph"><p><a href="http://networkupstools.org">NUT - Network UPS Tools</a> is a project which
provides support for a wide range of power devices, such as UPS, PDU and ATS.</p></div>
<div class="paragraph"><p>42ITy&#8482; uses NUT to gather data from network power devices.</p></div>
<h3 id="tntnet">Tntnet</h3>
<div class="paragraph"><p><a href="http://www.tntnet.org/">Tntnet</a> is a modular, multithreaded web application
server for C++.</p></div>
<div class="paragraph"><p>42ITy&#8482; uses Tntnet to serve web user interface and REST API.</p></div>
<h2 id="42ity_8482_internal_sub_projects">42ITy&#8482; internal sub-projects</h2>
<div class="paragraph"><p>This chapter briefly presents the different sub-projects that forms the 42ITy&#8482;
platform. More detailed information can be found on the dedicated pages of these
sub-projects.</p></div>
<div class="paragraph"><p>Each of these sub-projects is available as a repository on

<a href="http://github.com/42ity">42ITy</a> GitHub page, and provides a README file,
with various information on its purpose, its provided services (through STREAMS)
and data.</p></div>
<h3 id="general_projects">General projects</h3>
<h4>fty-core</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-core implements the core and central functionalities for
42ITy, by providing DB setup, OS integration and image creation scripts, &#8230;
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-core">https://github.com/42ity/fty-core</a>
</p>
</li>
</ul></div>
<h4>fty-proto</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-proto is the shared implementation of 42ITy&#8482; core
protocols, using Malamute and used by the different agents (assets, metrics,
alerts).
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-proto">https://github.com/42ity/fty-proto</a>
</p>
</li>
</ul></div>
<h4>fty-shm</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-shm is lockless metric sharing library for 42ity.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-shm">https://github.com/42ity/fty-shm</a>
</p>
</li>
</ul></div>
<h3 id="common_libraries">Common libraries</h3>
<h4>fty-common</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common provides core shared code for all fty projects.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common">https://github.com/42ity/fty-common</a>
</p>
</li>
</ul></div>
<h4>fty-common-db</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-db provides a common library with database-related
functions.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-db">https://github.com/42ity/fty-common-db</a>
</p>
</li>
</ul></div>
<h4>fty-common-dto</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-dto provides a common library with common objects
manipulation and inter-agents communication.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-dto">https://github.com/42ity/fty-common-dto</a>
</p>
</li>
</ul></div>
<h4>fty-common-logging</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-logging provides a common library for shared logging.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-logging">https://github.com/42ity/fty-common-logging</a>
</p>
</li>
</ul></div>
<h4>fty-common-messagebus</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-messagebus provides a common library with methods
for Request/Reply and Publish/Subscribe patterns on malamute.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-messagebus">https://github.com/42ity/fty-common-messagebus</a>
</p>
</li>
</ul></div>
<h4>fty-common-mlm</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-mlm provides a common library with mlm/zmq-related
functions.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-mlm">https://github.com/42ity/fty-common-mlm</a>
</p>
</li>
</ul></div>
<h4>fty-common-nut</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-nut provides a common library to interact with
NUT - Network UPS Tools, and interpret its provided data (including mapping
between NUT and 42ITy variables).
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-nut">https://github.com/42ity/fty-common-nut</a>
</p>
</li>
</ul></div>
<h4>fty-common-socket</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-socket provides common classes and function to
handle inter process communication using unix socket.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-socket">https://github.com/42ity/fty-common-socket</a>
</p>
</li>
</ul></div>
<h4>fty-common-translation</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-translation provides a common library with
translation-related functions.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-translation">https://github.com/42ity/fty-common-translation</a>
</p>
</li>
</ul></div>
<h4>fty-common-rest</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-common-rest provides a common library with
REST API related functions.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-common-rest">https://github.com/42ity/fty-common-rest</a>
</p>
</li>
</ul></div>
<h3 id="miscellaneous">Miscellaneous</h3>
<h4>fty-asset</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-asset is the agent in charge of managing information about
assets.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-asset">https://github.com/42ity/fty-asset</a>
</p>
</li>
</ul></div>
<h4>fty-asset-activator</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-asset-activator is a library with accessor functions for
activation/deactivation of assets.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-asset-activator">https://github.com/42ity/fty-asset-activator</a>
</p>
</li>
</ul></div>
<h4>fty-info</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-info returns rack controller information.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-info">https://github.com/42ity/fty-info</a>
</p>
</li>
</ul></div>
<h4>fty-mdns-sd</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-mdns-sd manages network announcement (mDNS) and discovery
(DNS-SD).
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-mdns-sd">https://github.com/42ity/fty-mdns-sd</a>
</p>
</li>
</ul></div>
<h4>fty-srr</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-srr is an agent who is in charge Saving, Restoring, and
Reseting the system.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-srr">https://github.com/42ity/fty-srr</a>
</p>
</li>
</ul></div>
<h3 id="discovery_configuration_and_monitoring">Discovery, configuration and monitoring</h3>
<h4>fty-discovery</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-discovery is an agent that discovers power devices
over the network and publishes new device elements in the asset DB.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-discovery">https://github.com/42ity/fty-discovery</a>
</p>
</li>
</ul></div>
<h4>fty-nut</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-nut is an agent that polls power devices (UPS and PDU) using
NUT drivers, through NUT server (upsd). It collects current measurements and
publishes them. It also collects static inventory data (assets) and publishes
them.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-nut">https://github.com/42ity/fty-nut</a>
</p>
</li>
</ul></div>
<h4>fty-sensor-env</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-sensor-env is the agent communicating with environmental
sensors to gather temperature and humidity data.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-sensor-env">https://github.com/42ity/fty-sensor-env</a>
</p>
</li>
</ul></div>
<h4>fty-sensor-gpio</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-sensor-gpio is the agent to manage GPIO sensors and devices.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-sensor-gpio">https://github.com/42ity/fty-sensor-gpio</a>
</p>
</li>
</ul></div>
<h3 id="metrics_generation_amp_processing">Metrics Generation &amp; Processing</h3>
<h4>fty-metric-compute</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-metric-compute provides computation services on metrics.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-metric-compute">https://github.com/42ity/fty-metric-compute</a>
</p>
</li>
</ul></div>
<h4>fty-metric-ambient-location</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-metric-ambient-location is the agent computing the average
humidity and temperature of each locations, based on sensor metrics.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-metric-ambient-location">https://github.com/42ity/fty-metric-ambient-location</a>
</p>
</li>
</ul></div>
<h4>fty-metric-tpower</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-metric-tpower is the agent computing total datacenters,
rooms, rows and racks power metrics from measurements.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-metric-tpower">https://github.com/42ity/fty-metric-tpower</a>
</p>
</li>
</ul></div>
<h4>fty-metric-composite</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-metric-composite is an agent that generates composite
metrics, that is to say metrics which are computed from several other metrics.
Rules are defined as scripts written in Lua.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-metric-composite">https://github.com/42ity/fty-metric-composite</a>
</p>
</li>
</ul></div>
<h4>fty-kpi-power-uptime</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-kpi-power-uptime computes and publishes KPI (Key Performance
Indicator) for data center power uptime, taking into account how long one of the
main power sources was offline.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-kpi-power-uptime">https://github.com/42ity/fty-kpi-power-uptime</a>
</p>
</li>
</ul></div>
<h4>fty-warranty</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-warranty is the agent that generates and sends alerts when a
device does not communicate.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-warranty">https://github.com/42ity/fty-warranty</a>
</p>
</li>
</ul></div>
<h3 id="real_time_and_history_data">Real time and history data</h3>
<h4>fty-metric-cache</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-metric-cache is the agent providing current values of any
metric in the system.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-metric-cache">https://github.com/42ity/fty-metric-cache</a>
</p>
</li>
</ul></div>
<h4>fty-metric-store</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-metric-store provides the persistance layer for metrics.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-metric-store">https://github.com/42ity/fty-metric-store</a>
</p>
</li>
</ul></div>
<h3 id="alerts_and_notifications">Alerts and notifications</h3>
<h4>fty-alert-engine</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-alert-engine is the agent that evaluates threshold based rules
written in Lua and produces alerts accordingly.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-alert-engine">https://github.com/42ity/fty-alert-engine</a>
</p>
</li>
</ul></div>
<h4>fty-alert-flexible</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-alert-flexible is the agent that evaluates non threshold based
rules (status, advanced metrics, &#8230;) written in Lua and produces alerts accordingly.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-alert-flexible">https://github.com/42ity/fty-alert-flexible</a>
</p>
</li>
</ul></div>
<h4>fty-alert-list</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-alert-list is the agent that provides information about
active and resolved alerts.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-alert-list">https://github.com/42ity/fty-alert-list</a>
</p>
</li>
</ul></div>
<h4>fty-alert-stats</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-alert-stats computes metric statistics on alerts.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-alert-stats">https://github.com/42ity/fty-alert-stats</a>
</p>
</li>
</ul></div>
<h4>fty-email</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-email is the agent in charge of generating and sending
email notifications.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-email">https://github.com/42ity/fty-email</a>
</p>
</li>
</ul></div>
<h4>fty-outage</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-outage is the agent that generates and sends alerts when a
device does not communicate.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-outage">https://github.com/42ity/fty-outage</a>
</p>
</li>
</ul></div>
<h3 id="security">Security</h3>
<h4>fty-security-wallet</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-security-wallet is the agent providing a central and secure
storage for credential documents.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-security-wallet">https://github.com/42ity/fty-security-wallet</a>
</p>
</li>
</ul></div>
<h4>fty-certificate-generator</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-certificate-generator is the agent which generates security
certificates.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-certificate-generator">https://github.com/42ity/fty-certificate-generator</a>
</p>
</li>
</ul></div>
<h4>fty-lib-certificate</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-lib-certificate is a library providing helper class
for SSL certificate handling.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-lib-certificate">https://github.com/42ity/fty-lib-certificate</a>
</p>
</li>
</ul></div>
<h3 id="rest_api">REST API</h3>
<h4>fty-rest</h4>
<div class="ulist"><ul>
<li>
<p>
Description: fty-rest is the main component extending Tntnet and
implementing 42ITy&#8482; REST API.
</p>
</li>
<li>
<p>
Repository: <a href="https://github.com/42ity/fty-rest">https://github.com/42ity/fty-rest</a>
</p>
</li>
</ul></div>
<h4>Other REST servlets</h4>
<div class="paragraph"><p>The following servlets provide specific mountpoints and services:</p></div>
<div class="ulist"><ul>
<li>
<p>
fty-scripts-rest: <a href="https://github.com/42ity/fty-scripts-rest">https://github.com/42ity/fty-scripts-rest</a>
</p>
</li>
<li>
<p>
fty-asset-mapping-rest: <a href="https://github.com/42ity/fty-asset-mapping-rest">https://github.com/42ity/fty-asset-mapping-rest</a>
</p>
</li>
<li>
<p>
fty-certificate-generator-rest: <a href="https://github.com/42ity/fty-certificate-generator-rest">https://github.com/42ity/fty-certificate-generator-rest</a>
</p>
</li>
<li>
<p>
fty-security-wallet-rest: <a href="https://github.com/42ity/fty-security-wallet-rest">https://github.com/42ity/fty-security-wallet-rest</a>
</p>
</li>
<li>
<p>
fty-srr-rest: <a href="https://github.com/42ity/fty-srr-rest">https://github.com/42ity/fty-srr-rest</a>
</p>
</li>
</ul></div>
<h2 id="services_dependencies">Services dependencies</h2>
<div class="paragraph"><p>The systemd system and service manager is responsible for controlling how
42ITy&#8482; services are started, stopped and otherwise managed. It uses an
event-based and dependencies based approach to optimize how services are managed
(started, stopped, reloaded).</p></div>
<div class="paragraph"><p>The figure bellow illustrates the dependencies relationships for services
running on 42ITy&#8482;.</p></div>
<div class="paragraph"><p><span class="image">
<img src="images/42ITy-systemd-deps.png" alt="42ITy services dependencies">
</span></p></div>
<div class="admonition note">
<div class="icon">
<img src="images/icons//note.png" alt="Note">
</div>
<div class="content">this needs refreshing and completion!</div>
</div>
<h2 id="packaging">Packaging</h2>
<div class="paragraph"><p>Each project provides the necessary files to create binary packages for the
main Linux distributions (Debian / Ubuntu, Redhat, Suse, &#8230;).</p></div>
<div class="paragraph"><p>For example, here are 
<a href="https://github.com/42ity/fty-example/tree/master/packaging/debian">fty-example packaging files for Debian</a></p></div>
<div class="paragraph"><p>Note that 42ITy main focus being on Debian, the other packages integration may
not be as optimal.</p></div>
<div class="paragraph"><p>It&#8217;s beyond the scope of this document to describe how to create such packages.
You may refer to the following documents:</p></div>
<div class="ulist"><ul>
<li>
<p>

<a href="https://www.debian.org/doc/manuals/maint-guide/build.html">for Debian</a>
</p>
</li>
<li>
<p>

<a href="https://rpm-packaging-guide.github.io/">for Redhat / Suse</a>
</p>
</li>
</ul></div>
<div class="paragraph"><p>As a basic example for fty-example on Debian, you may simply do:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>$ cd fty-example
$ ln -s packaging/debian/
$ dpkg-buildpackage -us -uc</pre>
</div></div>
<h2 id="creating_a_system_image">Creating a system image</h2>
<div class="paragraph"><p>To create a full system using 42ITy, you will need the following:</p></div>
<div class="ulist"><ul>
<li>
<p>
an operating system, including a kernel and bootloader.
42ITy is currently based on Debian GNU/Linux (version 8 or 10),
</p>
</li>
<li>
<p>
the set of 42ITy projects (agents and libraries), built into binary packages,
</p>
</li>
<li>
<p>
optionally, your own agents and software.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Basically, you just need to:</p></div>
<div class="ulist"><ul>
<li>
<p>
Retrieve or build the following list of packages:
</p>
<div class="ulist"><ul>
<li>
<p>

<a href="https://github.com/42ity/fty-core/blob/master/images/runtime-pkg.list">packages for deployment system</a>
</p>
</li>
<li>
<p>

<a href="https://github.com/42ity/fty-core/blob/master/images/devel-pkg.list">packages for development system</a>
</p>
</li>
</ul></div>
</li>
<li>
<p>
assemble these into an OS image, either custom built or pristine one
</p>
</li>
<li>
<p>
ensure that the 42ITy system is well setup, from an operating point of view. The

<a href="https://github.com/42ity/fty-core/blob/master/obs/preinstallimage-bios.sh.in">following script</a>
can be used.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Tools like 
<a href="https://wiki.debian.org/Multistrap">Multistrap</a> or

<a href="https://openbuildservice.org/">OBS</a> may help you to arrange and automate
images production using the above information.</p></div>
</div>
        </div>  <!-- /.col-md-9 -->
        <div class="col-md-3">
        <div id="sidebar">
    <div class="toc2">
<div class="panel panel-default">
<div class="panel-heading">Table of Contents</div>
<div class="panel-body" id="toc">
</div>
</div>
    </div>
</div>
        </div>  <!-- /.col-md-3 -->
    </div>  <!-- /.row -->
    <script src="js/jquery.min.js"></script>
    <script src="js/42ity.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="js/asciidoc.js"></script>
    <!-- Install TOC and/or footnotes (if necessary) -->
    <script type="text/javascript">asciidoc.install(3);</script>

    <!-- Remove footnotes if empty block -->
    <script type="text/javascript">$(function(){ if ($("#footnotes div").length == 0) $("#footnotes").parent().remove(); });</script>

    <script type="text/javascript">$(function(){ if ($("#dropdown-menu-versions")) $("#dropdown-menu-versions").parent().remove(); });</script>
    </div> <!-- page -->
  </body>
</html>
